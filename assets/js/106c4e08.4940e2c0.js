"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[696],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),m=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=m(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=m(n),d=o,h=p["".concat(l,".").concat(d)]||p[d]||g[d]||r;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:o,i[1]=s;for(var m=2;m<r;m++)i[m]=n[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},484:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>g,frontMatter:()=>r,metadata:()=>s,toc:()=>m});var a=n(7462),o=(n(7294),n(3905));const r={id:"segments",title:"Segments",description:"Create Segments to perform cost allocation and enforce cost governance for your organization.",keywords:["Segments"]},i="Segments",s={unversionedId:"segments",id:"segments",title:"Segments",description:"Create Segments to perform cost allocation and enforce cost governance for your organization.",source:"@site/docs/segments.md",sourceDirName:".",slug:"/segments",permalink:"/segments",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/segments.md",tags:[],version:"current",frontMatter:{id:"segments",title:"Segments",description:"Create Segments to perform cost allocation and enforce cost governance for your organization.",keywords:["Segments"]},sidebar:"someSidebar",previous:{title:"Resource Reports",permalink:"/active_resources"},next:{title:"Anomaly Detection",permalink:"/cost_anomaly_alerts"}},l={},m=[{value:"Segments Use Cases",id:"segments-use-cases",level:2},{value:"Create a Segment",id:"create-a-segment",level:2},{value:"Edit a Segment",id:"edit-a-segment",level:3},{value:"View and Create Child Segments",id:"view-and-create-child-segments",level:3},{value:"View Segment Reports",id:"view-segment-reports",level:2},{value:"Segments in Overview",id:"segments-in-overview",level:2}],c={toc:m},p="wrapper";function g(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"segments"},"Segments"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"To enable the Segments feature in your account, please contact Support at\xa0",(0,o.kt)("a",{parentName:"p",href:"mailto:support@vantage.sh"},"support@vantage.sh"),".")),(0,o.kt)("p",null,"A Segment is a set of filters that represents a portion of costs for your organization. You can think of Segments like a pivot table for all your costs\u2014or, in other words, a namespace of costs. With Segments, you can perform cost allocation and enforce cost governance for your organization. Optionally, you can create nested hierarchies of costs that can map to teams, departments, apps, or services within your organization. Segments ensure that costs are allocated only once and not duplicated in cases of showback/chargeback scenarios."),(0,o.kt)("h2",{id:"segments-use-cases"},"Segments Use Cases"),(0,o.kt)("p",null,"You can leverage Segments for a number of use cases, including the below examples."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Map costs to business units."),' You can use nested hierarchies for cost allocation. For example, you can see costs grouped by an \u201cInfrastructure Engineering\u201d team, then drill down into all the various sub-teams, like "Infrastructure Engineering Team 1\u201d and \u201cInfrastructure Engineering Team 2." The costs for Team 1 and Team 2 together comprise the total cost allocation line-item for Infrastructure Engineering.'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Maintain tag governance.")," You can create a Segment for a particular tag key you want to enforce across your organization. Whenever there are costs in the \u201cUnallocated\u201d portion of the report, you can go and identify resources to assign to the proper team or service. Unallocated costs are costs that are captured by a Segment's filters but are not allocated to any child Segments. For example, if you have two Segments defined for ",(0,o.kt)("strong",{parentName:"li"},"OPEX")," and ",(0,o.kt)("strong",{parentName:"li"},"R&D"),", any costs that do not match the logic associated with either of these filters will fall into an ",(0,o.kt)("em",{parentName:"li"},"Unallocated Segment"),". The Unallocated Segment report is automatically displayed at the root- or parent-Segment level.")),(0,o.kt)("h2",{id:"create-a-segment"},"Create a Segment"),(0,o.kt)("p",null,"Follow the steps below to create a Segment."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"From the top navigation, click ",(0,o.kt)("strong",{parentName:"li"},"Cost Reporting"),"."),(0,o.kt)("li",{parentName:"ol"},"On the left navigation, select ",(0,o.kt)("strong",{parentName:"li"},"Segments"),". If you have Segments present in your account, a full list of top-level Segments is displayed in the view on the right, sorted alphabetically."),(0,o.kt)("li",{parentName:"ol"},"To create a new Segment, click ",(0,o.kt)("strong",{parentName:"li"},"New Segment"),"."),(0,o.kt)("li",{parentName:"ol"},"Set the following parameters for the new Segment:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"For ",(0,o.kt)("strong",{parentName:"li"},"Name"),", enter a unique string (e.g., ",(0,o.kt)("em",{parentName:"li"},"OPEX"),"). This field is required."),(0,o.kt)("li",{parentName:"ul"},"For ",(0,o.kt)("strong",{parentName:"li"},"Description"),", optionally enter a text description for the Segment."),(0,o.kt)("li",{parentName:"ul"},"If you want to optionally track unallocated costs, click the toggle next to ",(0,o.kt)("strong",{parentName:"li"},"Track unallocated"),". ",(0,o.kt)("em",{parentName:"li"},"This option is displayed only for the root or parent Segment.")),(0,o.kt)("li",{parentName:"ul"},"For ",(0,o.kt)("strong",{parentName:"li"},"Priority"),", enter a numeric value (e.g., ",(0,o.kt)("em",{parentName:"li"},"100"),"). Costs are allocated in order of priority, with 0 as the highest priority. This field is required if filters are specified (as described in the next step). If you do not specify filters, this field is optional.",(0,o.kt)("admonition",{parentName:"li",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Once a cost is allocated to a Segment, it will not appear in a Segment with a higher priority; however, you likely will not need to worry about priority unless your organization has deep scrutiny on cost allocation collision."))))),(0,o.kt)("li",{parentName:"ol"},"Filters allocate costs to the Segment and are optional. To create a filter, click ",(0,o.kt)("strong",{parentName:"li"},"+ Add a Filter")," and configure the following values:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Select a ",(0,o.kt)("strong",{parentName:"li"},"Provider"),"."),(0,o.kt)("li",{parentName:"ul"},"Click ",(0,o.kt)("strong",{parentName:"li"},"New Rule")," to add additional logic, such as ",(0,o.kt)("strong",{parentName:"li"},"Region")," or ",(0,o.kt)("strong",{parentName:"li"},"Category")," filters. Segment filters are like filters in Cost Reports. See ",(0,o.kt)("a",{parentName:"li",href:"/cost_reports#filtering-cost-reports"},"Filter Cost Reports")," for a more detailed explanation of filters. Note that you cannot use ",(0,o.kt)("em",{parentName:"li"},"saved filters")," from Cost Reports in Segments.",(0,o.kt)("details",null,(0,o.kt)("summary",null,"Click to view example image"),(0,o.kt)("p",null,'This example shows a root- or parent-level Segment called "Management." Child Segment parameters will be the same\u2014except for the ',(0,o.kt)("strong",null,"Track unallocated")," option, which is not displayed for child Segments."),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Create Cost Filters for Segment",width:"80%",src:"/img/create-segment.png"})))))),(0,o.kt)("li",{parentName:"ol"},"At the bottom, click ",(0,o.kt)("strong",{parentName:"li"},"Save"),". You will see a message indicating ",(0,o.kt)("strong",{parentName:"li"},'"A Segment Report will appear here when the segment is finished refreshing"')," while the report for the Segment is generated. Depending on the filter's complexity, it can take some time for the Segment report to generate (up to 24 hours).")),(0,o.kt)("h3",{id:"edit-a-segment"},"Edit a Segment"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"If you make additional changes to a filter or Segment metadata, like title, it can take up to 24 hours to see those changes reflected in the console.")),(0,o.kt)("p",null,"You can edit a Segment's title, description, priority, and filters within the console. To edit these criteria, click the pencil icon next to the Segment name. Then, update and save the new criteria."),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Multi-dimensional Grouping",width:"90%",src:"/img/edit-segment.png"})),(0,o.kt)("h3",{id:"view-and-create-child-segments"},"View and Create Child Segments"),(0,o.kt)("p",null,"You can create child Segments and nest Segments within one another. Costs associated with nested Segments/filters will be rolled up to any parent Segments. To add a child Segment to a parent Segment, navigate to the parent Segment, and click ",(0,o.kt)("strong",{parentName:"p"},"+ New Segment"),". The image below shows an example of a group of nested Segments."),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Multi-dimensional Grouping",width:"80%",src:"/img/view-segments.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"In the above example, ",(0,o.kt)("strong",{parentName:"li"},"Vantage")," is the top-level Segment (as displayed in the breadcrumbs at the top of the screen)."),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("strong",{parentName:"li"},"Vantage")," Segment Cost Report is displayed at the bottom of the list."),(0,o.kt)("li",{parentName:"ul"},"In this example, we selected the option to show ",(0,o.kt)("strong",{parentName:"li"},"Unallocated costs")," when creating this parent Segment. The corresponding ",(0,o.kt)("strong",{parentName:"li"},"Unallocated")," Segment Cost Report is displayed in the list. "),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("strong",{parentName:"li"},"Vantage")," parent Segment has two child Segments: ",(0,o.kt)("strong",{parentName:"li"},"OPEX")," and ",(0,o.kt)("strong",{parentName:"li"},"R&D"),".")),(0,o.kt)("p",null,"Select a child Segment. You will see additional third-level child Segments as well as the associated child Segment Cost Report. In the below image, the ",(0,o.kt)("strong",{parentName:"p"},"R&D")," child Segment Cost Report is displayed. R&D contains no additional child Segments; however you can add them if you want. Observe the breadcrumbs at the top, which also indicate ",(0,o.kt)("strong",{parentName:"p"},"R&D")," is a child Segment of ",(0,o.kt)("strong",{parentName:"p"},"Vantage"),". "),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center"}},(0,o.kt)("img",{alt:"Create Cost Filters for Segment",width:"80%",src:"/img/child-segment.png"})),(0,o.kt)("h2",{id:"view-segment-reports"},"View Segment Reports"),(0,o.kt)("p",null,"Select a Segment report to view the associated costs. On the report, costs are displayed for all associated child Segments."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The report is filtered to ",(0,o.kt)("strong",{parentName:"li"},"Group By: Segment")," to show costs broken out by the child Segments within that Segment. In the below visual example, costs are grouped by ",(0,o.kt)("strong",{parentName:"li"},"Customers"),", ",(0,o.kt)("strong",{parentName:"li"},"OPS"),", and ",(0,o.kt)("strong",{parentName:"li"},"Production")," within the ",(0,o.kt)("strong",{parentName:"li"},"OPEX")," Segment. This is because ",(0,o.kt)("strong",{parentName:"li"},"Customers"),", ",(0,o.kt)("strong",{parentName:"li"},"OPS"),", and ",(0,o.kt)("strong",{parentName:"li"},"Production")," are all third-level child Segments for ",(0,o.kt)("strong",{parentName:"li"},"OPEX"),". "),(0,o.kt)("li",{parentName:"ul"},"Change the filter to view the data by another grouping, such as ",(0,o.kt)("strong",{parentName:"li"},"Account"),"."),(0,o.kt)("li",{parentName:"ul"},"From the resource list at the bottom, click the icons next to each resource to isolate costs displayed within the chart. "),(0,o.kt)("li",{parentName:"ul"},"At the top right of the chart, you can change the date range and date bin (e.g., daily, weekly, monthly).")),(0,o.kt)("div",{style:{display:"flex",justifyContent:"center",position:"relative"}},(0,o.kt)("div",{style:{position:"relative",zIndex:1}},(0,o.kt)("img",{alt:"View Segment Reports",style:{width:"100%",clipPath:"inset(0 10px 15px 0)"},src:"/img/segment-cost-report.gif"})),(0,o.kt)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,borderRadius:"10px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)",zIndex:0}})),(0,o.kt)("br",null),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"If you would like to transition existing Cost Report filters to Segments, you must manually re-create them. For assistance, contact Support at ",(0,o.kt)("a",{parentName:"p",href:"mailto:support@vantage.sh"},"support@vantage.sh"),".")),(0,o.kt)("h2",{id:"segments-in-overview"},"Segments in Overview"),(0,o.kt)("p",null,"A Segment widget is displayed for each top-level Segment on the ",(0,o.kt)("a",{parentName:"p",href:"/overview/"},"Overview")," screen. This Segments widget shows a table of second-level Segments and a comparison of costs for this month vs. last. You can select any of these Segments to view the corresponding Cost Report."))}g.isMDXComponent=!0}}]);