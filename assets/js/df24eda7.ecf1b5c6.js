"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[539],{3905:(e,t,n)=>{n.d(t,{Zo:()=>g,kt:()=>m});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),l=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},g=function(e){var t=l(e.components);return o.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,g=i(e,["components","mdxType","originalType","parentName"]),p=l(n),u=a,m=p["".concat(c,".").concat(u)]||p[u]||d[u]||r;return n?o.createElement(m,s(s({ref:t},g),{},{components:n})):o.createElement(m,s({ref:t},g))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=u;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:a,s[1]=i;for(var l=2;l<r;l++)s[l]=n[l];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},1651:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>l});var o=n(7462),a=(n(7294),n(3905));const r={},s="MongoDB Atlas",i={unversionedId:"connecting_mongodb-atlas",id:"connecting_mongodb-atlas",title:"MongoDB Atlas",description:"Create a free Vantage account then follow the steps below to integrate MongoDB Atlas costs.",source:"@site/docs/connecting_mongodb-atlas.md",sourceDirName:".",slug:"/connecting_mongodb-atlas",permalink:"/connecting_mongodb-atlas",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/connecting_mongodb-atlas.md",tags:[],version:"current",frontMatter:{},sidebar:"someSidebar",previous:{title:"Datadog",permalink:"/connecting_datadog"},next:{title:"Setup Snowflake",permalink:"/connecting_snowflake"}},c={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Connecting your MongoDB Atlas Account",id:"connecting-your-mongodb-atlas-account",level:2},{value:"Get your Organization ID",id:"get-your-organization-id",level:3},{value:"Create an Organization API Key",id:"create-an-organization-api-key",level:3},{value:"Grant Project Access for Active Resources",id:"grant-project-access-for-active-resources",level:3},{value:"MongoDB Atlas Reporting Dimensions",id:"mongodb-atlas-reporting-dimensions",level:2}],g={toc:l},p="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,o.Z)({},g,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"mongodb-atlas"},"MongoDB Atlas"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://console.vantage.sh/signup"},"Create a free Vantage account")," then follow the steps below to integrate MongoDB Atlas costs."),(0,a.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,a.kt)("p",null,"Vantage integrates with your MongoDB account through the use of the ",(0,a.kt)("a",{parentName:"p",href:"https://www.mongodb.com/docs/atlas/reference/api-resources-spec/#tag/Invoices"},"Invoices API"),". To see ",(0,a.kt)("a",{parentName:"p",href:"/active_resources"},"Active Resources")," for your MongoDB Atlas account, Vantage uses the ",(0,a.kt)("a",{parentName:"p",href:"https://www.mongodb.com/docs/atlas/reference/api-resources-spec/#tag/Clusters"},"Clusters API")," and the ",(0,a.kt)("a",{parentName:"p",href:"https://www.mongodb.com/docs/atlas/reference/api-resources-spec/#tag/Projects"},"Projects API"),"."),(0,a.kt)("p",null,"To create an API key for Vantage to ingest costs, you must be an ",(0,a.kt)("strong",{parentName:"p"},"Organization Owner")," inside the ",(0,a.kt)("a",{parentName:"p",href:"https://account.mongodb.com/account/login"},"MongoDB Atlas console"),". To add the API key to relevant projects to use Active Resource Inventories inside Vantage, you must be a ",(0,a.kt)("strong",{parentName:"p"},"Project Owner")," in the MongoDB Atlas console."),(0,a.kt)("h2",{id:"connecting-your-mongodb-atlas-account"},"Connecting your MongoDB Atlas Account"),(0,a.kt)("p",null,"To connect your MongoDB Atlas account, open the ",(0,a.kt)("a",{parentName:"p",href:"https://console.vantage.sh/settings/mongo"},"MongoDB Atlas Settings")," page in the Vantage console. Follow the instructions which require performing the following operations in the ",(0,a.kt)("a",{parentName:"p",href:"https://account.mongodb.com/account/login"},"MongoDB Atlas console"),". Begin by clicking  ",(0,a.kt)("inlineCode",{parentName:"p"},"Add API Key")," in the Vantage console."),(0,a.kt)("h3",{id:"get-your-organization-id"},"Get your Organization ID"),(0,a.kt)("p",null,"In the MongoDB Atlas console, click the Gear icon to go to Organization Settings."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(4258).Z,width:"1214",height:"526"})),(0,a.kt)("p",null,'Copy the Organization ID and supply this to Vantage under "Organization ID".'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(3645).Z,width:"1222",height:"446"})),(0,a.kt)("p",null,"This is the first required piece of information to supply to Vantage. Below you will create an API key and give it read-only permissions to your invoices and optionally to cluster-level cost data."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Vantage console",src:n(4598).Z,width:"1604",height:"936"})),(0,a.kt)("h3",{id:"create-an-organization-api-key"},"Create an Organization API Key"),(0,a.kt)("p",null,'Next, choose "Access Manager" in the pane on the left.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(4989).Z,width:"1238",height:"576"})),(0,a.kt)("p",null,'Click "Create an API Key", give it a name like "Vantage Integration" and grant it ',(0,a.kt)("strong",{parentName:"p"},"Organization Read Only")," permissions."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(8835).Z,width:"1130",height:"928"})),(0,a.kt)("p",null,'Copy the Public Key and the Private Key into the "Public API key" and "Private API key" fields in Vantage.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(7476).Z,width:"781",height:"550"})),(0,a.kt)("p",null,"Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Add Key")," to grant Vantage read-only access to the Invoices API or proceed with the next steps to have Vantage ingest per-cluster resource data from MongoDB Atlas."),(0,a.kt)("h3",{id:"grant-project-access-for-active-resources"},"Grant Project Access for Active Resources"),(0,a.kt)("p",null,'Under "Organization" select "Projects" to see your list of Atlas projects.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(9090).Z,width:"1158",height:"668"})),(0,a.kt)("p",null,"Click on the Project and click on the Gear icon to go to Project Settings."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(8491).Z,width:"1178",height:"1022"})),(0,a.kt)("p",null,"Invite the Vantage Integration API key to this and any other projects for which you want to see resource level costs. You can search for the API Key in the box."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(1178).Z,width:"1302",height:"1086"})),(0,a.kt)("p",null,"Select the Vantage Integration API key and grant it ",(0,a.kt)("strong",{parentName:"p"},"Project Read Only")," access."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(1669).Z,width:"1306",height:"1062"})),(0,a.kt)("p",null,"If successful, you will see the Vantage API key added to the project and your Active Resources will begin populating with cost data."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"MongoDB Atlas Connection Step",src:n(5206).Z,width:"2536",height:"1232"})),(0,a.kt)("p",null,"Back in the Vantage console, click ",(0,a.kt)("inlineCode",{parentName:"p"},"Add Key")," and your MongoDB Atlas integration status should move from ",(0,a.kt)("inlineCode",{parentName:"p"},"Pending")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"Importing")," automatically. MongoDB Atlas data is refreshed once a day. "),(0,a.kt)("h2",{id:"mongodb-atlas-reporting-dimensions"},"MongoDB Atlas Reporting Dimensions"),(0,a.kt)("p",null,"MongoDB Atlas ",(0,a.kt)("a",{parentName:"p",href:"/cost_reports/"},"Cost Reports")," enable you to filter MongoDB costs along several dimensions:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Service"),(0,a.kt)("li",{parentName:"ul"},"Region"),(0,a.kt)("li",{parentName:"ul"},"Cost Category"),(0,a.kt)("li",{parentName:"ul"},"Resource level costs such as Realm costs")))}d.isMDXComponent=!0},7476:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-copy-api-key-private-444e0bd4b9706eb31f80018af1c68a01.png"},3645:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-get-organization-id-c282821aca977a4772d542fcd541db37.png"},4989:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-manage-access-b44e0018080c946d8ea3b4dfb951388c.png"},4258:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-open-setttings-79aee5b8e7d467e926bcab90b75b9eb6.png"},8835:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-organization-read-only-fca6d8d9a4ebf49620480724d0674687.png"},8491:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-project-access-1cfae727eba4e740b788f1d3a37a5092.png"},1669:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-project-read-only-32c0e0a469d84907b0f75682414c0cfa.png"},5206:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-project-successful-8ed01a182000fb13c9f6ebd2f721d762.png"},9090:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-projects-80b59f3ab992a19af195d2da9f8f8fa6.png"},1178:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-search-integration-a02385b910d63bf86220fa26945eb165.png"},4598:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/mongodb-vantage-console-b5d9e51df77e7ab1f582c805aa97d4d3.png"}}]);