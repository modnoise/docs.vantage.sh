"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[51],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),l=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(i.Provider,{value:t},e.children)},p="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(n),d=r,h=p["".concat(i,".").concat(d)]||p[d]||f[d]||o;return n?a.createElement(h,c(c({ref:t},u),{},{components:n})):a.createElement(h,c({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,c=new Array(o);c[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[p]="string"==typeof e?e:r,c[1]=s;for(var l=2;l<o;l++)c[l]=n[l];return a.createElement.apply(null,c)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3379:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>f,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const o={},c="Setup Snowflake",s={unversionedId:"connecting_snowflake",id:"connecting_snowflake",title:"Setup Snowflake",description:"Snowflake Cost Reports",source:"@site/docs/connecting_snowflake.md",sourceDirName:".",slug:"/connecting_snowflake",permalink:"/connecting_snowflake",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/docs/connecting_snowflake.md",tags:[],version:"current",frontMatter:{},sidebar:"someSidebar",previous:{title:"MongoDB Atlas",permalink:"/connecting_mongodb-atlas"},next:{title:"Snowflake Costs by Query",permalink:"/snowflake_cost_by_query"}},i={},l=[{value:"Connecting Your Snowflake Account",id:"connecting-your-snowflake-account",level:2},{value:"Snowflake Schema for Vantage",id:"snowflake-schema-for-vantage",level:2}],u={toc:l},p="wrapper";function f(e){let{components:t,...o}=e;return(0,r.kt)(p,(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"setup-snowflake"},"Setup Snowflake"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Snowflake Cost Reports",src:n(2674).Z,width:"1023",height:"809"})),(0,r.kt)("h2",{id:"connecting-your-snowflake-account"},"Connecting Your Snowflake Account"),(0,r.kt)("p",null,"Vantage integrates with your Snowflake account through a secure, read-only user that has access to Snowflake usage tables. Optionally, see below for instructions on creating a specific schema for the Vantage user."),(0,r.kt)("p",null,"Vantage requires read-only access to the following tables:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://docs.snowflake.com/en/sql-reference/functions/warehouse_metering_history.html"},"SNOWFLAKE.ORGANIZATION_USAGE.WAREHOUSE_METERING_HISTORY")),(0,r.kt)("p",{parentName:"li"},"  Returns hourly credit usage for both virtual warehouse credit usage and cloud service credit usage per each warehouse for all warehouses in your account. Data retained for 1 year.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://docs.snowflake.com/en/sql-reference/account-usage/query_history.html"},"SNOWFLAKE.ACCOUNT_USAGE.QUERY_HISTORY")),(0,r.kt)("p",{parentName:"li"},"  Query history with various dimensions, including total elapsed time, warehouse used, data bytes scanned, etc. Data retained for 1 year.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://docs.snowflake.com/en/sql-reference/organization-usage/usage_in_currency_daily.html"},"SNOWFLAKE.ORGANIZATION_USAGE.USAGE_IN_CURRENCY_DAILY")),(0,r.kt)("p",{parentName:"li"},"  Returns the daily credit usage and usage in currency for an organization."))),(0,r.kt)("h2",{id:"snowflake-schema-for-vantage"},"Snowflake Schema for Vantage"),(0,r.kt)("p",null,"A best practice is to create a schema specifically for the Vantage user. After creating the schema you can add only the needed views to that schema and grant the vantage user access to the schema. You can follow ",(0,r.kt)("a",{parentName:"p",href:"https://community.snowflake.com/s/article/Solution-Grant-access-to-specific-views-in-SNOWFLAKE-ACCOUNT-USAGE-to-custom-roles"},"these")," instructions from Snowflake on how to do this."),(0,r.kt)("p",null,"After creating the user and granting access you can visit the ",(0,r.kt)("a",{parentName:"p",href:"https://console.vantage.sh/settings/integrations"},"integrations"),' page and click "Add" on the Snowflake section.'))}f.isMDXComponent=!0},2674:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/snowflake_cost_report-8644edd221ebd8e03299e27e1d193e0f.png"}}]);