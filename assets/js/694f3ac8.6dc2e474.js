"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[5394],{3905:(t,e,a)=>{a.d(e,{Zo:()=>g,kt:()=>m});var n=a(7294);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,n,o=function(t,e){if(null==t)return{};var a,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(o[a]=t[a]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}var s=n.createContext({}),c=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},g=function(t){var e=c(t.components);return n.createElement(s.Provider,{value:e},t.children)},u="mdxType",p={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},d=n.forwardRef((function(t,e){var a=t.components,o=t.mdxType,r=t.originalType,s=t.parentName,g=l(t,["components","mdxType","originalType","parentName"]),u=c(a),d=o,m=u["".concat(s,".").concat(d)]||u[d]||p[d]||r;return a?n.createElement(m,i(i({ref:e},g),{},{components:a})):n.createElement(m,i({ref:e},g))}));function m(t,e){var a=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=a.length,i=new Array(r);i[0]=d;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[u]="string"==typeof t?t:o,i[1]=l;for(var c=2;c<r;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},9176:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var n=a(7462),o=(a(7294),a(3905));const r={id:"connecting_datadog",title:"Datadog",description:"This page walks through how to integrate Vantage with your Datadog account.",keywords:["Datadog","Connect Datadog"]},i="Datadog",l={unversionedId:"connecting_datadog",id:"connecting_datadog",title:"Datadog",description:"This page walks through how to integrate Vantage with your Datadog account.",source:"@site/docs/connecting_datadog.md",sourceDirName:".",slug:"/connecting_datadog",permalink:"/connecting_datadog",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/connecting_datadog.md",tags:[],version:"current",frontMatter:{id:"connecting_datadog",title:"Datadog",description:"This page walks through how to integrate Vantage with your Datadog account.",keywords:["Datadog","Connect Datadog"]},sidebar:"someSidebar",previous:{title:"Kubernetes Costs",permalink:"/kubernetes"},next:{title:"New Relic",permalink:"/connecting_new_relic"}},s={},c=[{value:"Connect Your Datadog Account",id:"connect-your-datadog-account",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Create the Connection",id:"create-the-connection",level:3},{value:"Datadog Reporting Dimensions",id:"datadog-reporting-dimensions",level:2},{value:"Datadog Cost Tags (Usage Attribution Tags)",id:"datadog-cost-tags-usage-attribution-tags",level:3},{value:"Manage Workspace Access",id:"manage-workspace-access",level:2}],g={toc:c},u="wrapper";function p(t){let{components:e,...a}=t;return(0,o.kt)(u,(0,n.Z)({},g,a,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"datadog"},"Datadog"),(0,o.kt)("p",null,"Vantage uses a read-only (scoped to ",(0,o.kt)("inlineCode",{parentName:"p"},"usage_read"),") Datadog OAuth token. This token is used to pull data from the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.datadoghq.com/api/latest/usage-metering/"},"usage metering endpoint"),". The usage metering API allows you to get hourly, daily, and monthly usage across multiple facets of Datadog. This API is available to all Pro and Enterprise customers."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Usage is only accessible for ",(0,o.kt)("a",{parentName:"p",href:"https://docs.datadoghq.com/account_management/multi_organization/"},"parent-level organizations"),".")),(0,o.kt)("p",null,"For documentation about connecting to Vantage from Datadog, see the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.datadoghq.com/integrations/vantage/"},"Vantage Integration page")," in Datadog's documentation."),(0,o.kt)("h2",{id:"connect-your-datadog-account"},"Connect Your Datadog Account"),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"When connecting your Datadog account, your user will need access to the ",(0,o.kt)("inlineCode",{parentName:"li"},"usage_read")," scope to complete the connection. See the ",(0,o.kt)("a",{parentName:"li",href:"https://docs.datadoghq.com/account_management/rbac/permissions/"},"Datadog documentation")," for more information on roles."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://console.vantage.sh/signup"},"Create a free Vantage account"),", then follow the steps below to integrate Datadog costs.")),(0,o.kt)("h3",{id:"create-the-connection"},"Create the Connection"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"From the Vantage console, navigate to the ",(0,o.kt)("a",{parentName:"li",href:"https://console.vantage.sh/settings/integrations"},"Integrations page"),"."),(0,o.kt)("li",{parentName:"ol"},"Select ",(0,o.kt)("strong",{parentName:"li"},"Datadog")," and add a connection."),(0,o.kt)("li",{parentName:"ol"},"You will be brought to the Datadog login screen and guided through the Datadog OAUTH2 flow for adding your Datadog account.")),(0,o.kt)("p",null,"After authorizing the connection with Vantage, you will see the status of your connection change to ",(0,o.kt)("inlineCode",{parentName:"p"},"Importing")," within the Vantage console."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Upon connection, Vantage will ingest six months of historical Datadog costs. Each day, at 2 AM UTC, this data is refreshed, but delays up to 72 hours may occur.")),(0,o.kt)("h2",{id:"datadog-reporting-dimensions"},"Datadog Reporting Dimensions"),(0,o.kt)("p",null,"Within ",(0,o.kt)("a",{parentName:"p",href:"/cost_reports/"},"Cost Reports"),", Vantage will show cost data for at least the following services."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"APM"),(0,o.kt)("li",{parentName:"ul"},"Application Security Monitoring"),(0,o.kt)("li",{parentName:"ul"},"Audit Trail"),(0,o.kt)("li",{parentName:"ul"},"CI Visibility"),(0,o.kt)("li",{parentName:"ul"},"CSPM"),(0,o.kt)("li",{parentName:"ul"},"Database Monitoring"),(0,o.kt)("li",{parentName:"ul"},"Incident Management"),(0,o.kt)("li",{parentName:"ul"},"Infrastructure"),(0,o.kt)("li",{parentName:"ul"},"Log Management"),(0,o.kt)("li",{parentName:"ul"},"Network Monitoring"),(0,o.kt)("li",{parentName:"ul"},"Observability pipelines"),(0,o.kt)("li",{parentName:"ul"},"RUM"),(0,o.kt)("li",{parentName:"ul"},"Sensitive Data Scanner"),(0,o.kt)("li",{parentName:"ul"},"Serverless Monitoring"),(0,o.kt)("li",{parentName:"ul"},"Synthetic Monitoring"),(0,o.kt)("li",{parentName:"ul"},"Workload Security")),(0,o.kt)("p",null,"The following Cost Report filters are available for Datadog:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Organization"),(0,o.kt)("li",{parentName:"ul"},"Category"),(0,o.kt)("li",{parentName:"ul"},"Tag/Not Tagged (see the section below)"),(0,o.kt)("li",{parentName:"ul"},"Subcategory"),(0,o.kt)("li",{parentName:"ul"},"Service")),(0,o.kt)("p",null,"At the Category and Subcategory levels, you can access information such as how much Datadog spend is covered by committed-use discounts or which individual Datadog container is contributing to overall Logging costs."),(0,o.kt)("h3",{id:"datadog-cost-tags-usage-attribution-tags"},"Datadog Cost Tags (Usage Attribution Tags)"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"This feature is only available if you have a Datadog Enterprise plan with usage tags enabled.")),(0,o.kt)("p",null,"You can have up to three tag keys per organization enabled for ",(0,o.kt)("a",{parentName:"p",href:"https://docs.datadoghq.com/account_management/billing/usage_attribution/"},"usage attribution")," in Datadog. Once enabled, Datadog begins breaking down the usage by any number of tag values for these keys. This allows you to see usage for specific services allocated to a specific key/value pair."),(0,o.kt)("p",null,"The following Datadog services support Datadog cost tags:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"APM"),(0,o.kt)("li",{parentName:"ul"},"CI Pipeline"),(0,o.kt)("li",{parentName:"ul"},"Fargate"),(0,o.kt)("li",{parentName:"ul"},"Infrastructure Hosts"),(0,o.kt)("li",{parentName:"ul"},"Lambda"),(0,o.kt)("li",{parentName:"ul"},"Logs"),(0,o.kt)("li",{parentName:"ul"},"NPM"),(0,o.kt)("li",{parentName:"ul"},"Synthetic Tests"),(0,o.kt)("li",{parentName:"ul"},"Time Series")),(0,o.kt)("p",null,"To use these tags within Vantage:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open any ",(0,o.kt)("a",{parentName:"li",href:"/cost_reports"},"Cost Report"),"."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Filters"),", and select ",(0,o.kt)("strong",{parentName:"li"},"Datadog")," for the provider."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"New Rule")," > ",(0,o.kt)("strong",{parentName:"li"},"Tag"),".")),(0,o.kt)("p",null,"You can also ",(0,o.kt)("strong",{parentName:"p"},"Group By")," a specific tag key on a Datadog Cost Report. The following filter operators are supported:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Tagged with key"),(0,o.kt)("li",{parentName:"ul"},"Tagged with Key where the value: is, is not, contains, does not contain"),(0,o.kt)("li",{parentName:"ul"},"Not Tagged"),(0,o.kt)("li",{parentName:"ul"},"Not Tagged with Key")),(0,o.kt)("p",null,"If you just applied your first Datadog tag key and value, it can take up to 48 hours for the tag to appear in Vantage. Tags are not applied retroactively."),(0,o.kt)("h2",{id:"manage-workspace-access"},"Manage Workspace Access"),(0,o.kt)("p",null,"See the ",(0,o.kt)("a",{parentName:"p",href:"/workspaces#integration-workspace"},"Workspaces")," documentation for information on how to update workspace access for an integration."))}p.isMDXComponent=!0}}]);