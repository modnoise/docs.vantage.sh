"use strict";(self.webpackChunkdocs_vantage_sh=self.webpackChunkdocs_vantage_sh||[]).push([[5055],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},f=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=c(r),f=n,h=p["".concat(l,".").concat(f)]||p[f]||m[f]||o;return r?a.createElement(h,s(s({ref:t},u),{},{components:r})):a.createElement(h,s({ref:t},u))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,s=new Array(o);s[0]=f;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[p]="string"==typeof e?e:n,s[1]=i;for(var c=2;c<o;c++)s[c]=r[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}f.displayName="MDXCreateElement"},6951:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var a=r(7462),n=(r(7294),r(3905));const o={},s="Terraform Cloud",i={unversionedId:"terraform_cloud_integration",id:"terraform_cloud_integration",title:"Terraform Cloud",description:"Vantage is an official HashiCorp partner. Vantage integrates with Terraform Cloud through the Run Tasks API. This allows your team to get visiblity on cloud costs as part of their existing workflows in two different ways:",source:"@site/docs/terraform_cloud_integration.md",sourceDirName:".",slug:"/terraform_cloud_integration",permalink:"/terraform_cloud_integration",draft:!1,editUrl:"https://github.com/vantage-sh/docs.vantage.sh/blob/master/docs/terraform_cloud_integration.md",tags:[],version:"current",frontMatter:{},sidebar:"someSidebar",previous:{title:"Microsoft Teams",permalink:"/microsoft_teams_integration"},next:{title:"Savings Planner",permalink:"/savings_planner"}},l={},c=[{value:"Run Tasks Integration Instructions",id:"run-tasks-integration-instructions",level:2},{value:"Screenshots",id:"screenshots",level:2},{value:"Support",id:"support",level:2}],u={toc:c},p="wrapper";function m(e){let{components:t,...r}=e;return(0,n.kt)(p,(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"terraform-cloud"},"Terraform Cloud"),(0,n.kt)("p",null,"Vantage is an official HashiCorp partner. Vantage integrates with Terraform Cloud through the ",(0,n.kt)("a",{parentName:"p",href:"https://www.terraform.io/cloud-docs/workspaces/settings/run-tasks"},"Run Tasks API"),". This allows your team to get visiblity on cloud costs as part of their existing workflows in two different ways:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Cost Saving Recommendations"),": Vantage will post a current snapshot of cost savings that can be applied to help you save money. "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Accrued Costs and Forecasts"),": Vantage will post a current snapshot of your current accrued costs and your expected forecast for the current month. ")),(0,n.kt)("p",null,"This integration is provided at no additional cost to all Vantage users, including users in the free tier. Getting setup only takes a few minutes and you can follow steps to opt-in below. "),(0,n.kt)("h2",{id:"run-tasks-integration-instructions"},"Run Tasks Integration Instructions"),(0,n.kt)("p",null,"Run Tasks is a Terraform Cloud feature natively provided by HashiCorp that allows users to tie costs from Vantage Workspaces directly to Terraform Cloud. You can setup this integration with either a Terraform Cloud account or self-hosted Terraform Enterprise instance. Getting up and running only takes a few minutes. "),(0,n.kt)("p",null,"Pre-requisites:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Free ",(0,n.kt)("a",{parentName:"li",href:"https://cloud.hashicorp.com/products/terraform"},"Terraform Cloud")," account or ",(0,n.kt)("a",{parentName:"li",href:"https://www.terraform.io/enterprise"},"Terraform Enterprise Instance")),(0,n.kt)("li",{parentName:"ul"},"Register a free account at ",(0,n.kt)("a",{parentName:"li",href:"https://www.vantage.sh"},"Vantage"))),(0,n.kt)("p",null,"To integrate costs from a specific Vantage workspace to Terraform Cloud, follow the instructions here:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'From your Terraform Cloud workspace, create a new Run Task by clicking "Settings" then "Run Tasks" from your target Terraform Cloud Workspace. '),(0,n.kt)("li",{parentName:"ul"},'For the Run Task Name, choose either "Vantage-Costs" or "Vantage-Cost-Recommendations"'),(0,n.kt)("li",{parentName:"ul"},"For the Run Task Endpoint URL, please choose one of the following formats:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"For seeing accrued costs and cost forecasts: ",(0,n.kt)("a",{parentName:"li",href:"https://api.vantage.sh/v1/integrations/terraform/workspaces/**YOUR_WORKSPACE_ID**/costs"},"https://api.vantage.sh/v1/integrations/terraform/workspaces/**YOUR_WORKSPACE_ID**/costs")),(0,n.kt)("li",{parentName:"ul"},"For seeing cost recommendations: ",(0,n.kt)("a",{parentName:"li",href:"https://api.vantage.sh/v1/integrations/terraform/workspaces/**YOUR_WORKSPACE_ID**/recommendations"},"https://api.vantage.sh/v1/integrations/terraform/workspaces/**YOUR_WORKSPACE_ID**/recommendations")))),(0,n.kt)("li",{parentName:"ul"},"Head to your ",(0,n.kt)("a",{parentName:"li",href:"https://console.vantage.sh/settings/workspaces"},"Workspaces page"),' from within the Vantage console and click your desired Workspace to connect to Terraform Cloud. Take a look at the "Configuration Details" section. For the "HMAC key", please copy the "Workspace API Token". In the Endpoint URL please replace "YOUR_WORKSPACE_ID" with the "ID" listed of your Vantage Workspace. '),(0,n.kt)("li",{parentName:"ul"},'Head back your Terraform Cloud workspace settings, select "Run Tasks" and you\'ll see the Run Task that you just created in the list of "Available Run Tasks". Click the "+" button to add this Available Run Task to your Workspace. Vantage recommends that you choose the "Advisory" Enforcement level. '),(0,n.kt)("li",{parentName:"ul"},"You're all done. Vantage will now post cost forecasts and/or cost recommendations on every run. ")),(0,n.kt)("h2",{id:"screenshots"},"Screenshots"),(0,n.kt)("p",null,"An example of what both Vantage Cost Recommendations and Vantage Costs look like in the Run Tasks flow:"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://assets.vantage.sh/www/vantage_run_task.png",alt:"https://assets.vantage.sh/www/vantage_run_task.png"})),(0,n.kt)("h2",{id:"support"},"Support"),(0,n.kt)("p",null,"Need support? Join us in the #support channel in the ",(0,n.kt)("a",{parentName:"p",href:"https://vantage.sh/slack"},"Vantage Slack Community")," and we're happy to help."))}m.isMDXComponent=!0}}]);